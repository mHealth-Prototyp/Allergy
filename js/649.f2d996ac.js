"use strict";(globalThis["webpackChunkmhealth_proto_patient"]=globalThis["webpackChunkmhealth_proto_patient"]||[]).push([[649],{3658:(t,e,o)=>{o.d(e,{Z:()=>d});var a=o(9835);function l(t,e,o,l,s,n){const i=(0,a.up)("q-option-group");return(0,a.wg)(),(0,a.j4)(i,{modelValue:t.values,"onUpdate:modelValue":[e[0]||(e[0]=e=>t.values=e),t.updateDashboardSettings],options:t.options,type:"toggle"},null,8,["modelValue","options","onUpdate:modelValue"])}const s=(0,a.aZ)({name:"DashboardSettings",data(){return{dashboardOptions:this.$store.getDashboardSettings(),values:[],options:[]}},created(){var t;this.values=[],this.options=[];for(const e of this.dashboardOptions)e.active&&this.values.push(e.component),null===(t=this.options)||void 0===t||t.push({label:this.$t("settings."+e.component),value:e.component})},methods:{updateDashboardSettings(t){this.$store.setDashboardSettings(t),this.$emit("dashboardSettingsChanged")}}});var n=o(1639),i=o(5261),r=o(9984),u=o.n(r);const p=(0,n.Z)(s,[["render",l]]),d=p;u()(s,"components",{QOptionGroup:i.Z})},6649:(t,e,o)=>{o.r(e),o.d(e,{default:()=>A});var a=o(9835),l=o(6970);const s=t=>((0,a.dD)("data-v-186e18d2"),t=t(),(0,a.Cn)(),t),n={class:"oid-list"},i=(0,a.Uk)(),r=s((()=>(0,a._)("br",null,null,-1))),u=(0,a.Uk)(),p=s((()=>(0,a._)("br",null,null,-1))),d=(0,a.Uk)(),g=s((()=>(0,a._)("br",null,null,-1))),m=(0,a.Uk)(),c=s((()=>(0,a._)("br",null,null,-1)));function h(t,e,o,s,h,w){const $=(0,a.up)("q-card-section"),_=(0,a.up)("q-select"),b=(0,a.up)("q-separator"),D=(0,a.up)("DashboardSettings"),f=(0,a.up)("q-btn"),k=(0,a.up)("q-card"),x=(0,a.up)("export-import-card"),v=(0,a.up)("q-dialog");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(k,{class:"settings-card"},{default:(0,a.w5)((()=>[(0,a.Wm)($,{class:"card-title"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.$t("layout.menu.settings")),1)])),_:1}),(0,a.Wm)($,null,{default:(0,a.w5)((()=>[(0,a._)("form",null,[(0,a._)("h3",null,(0,l.zw)(t.$t("common.language")),1),(0,a._)("p",null,(0,l.zw)(t.$t("settings.languageText")),1),(0,a.Wm)(_,{class:"lang-select",modelValue:t.language,"onUpdate:modelValue":[e[0]||(e[0]=e=>t.language=e),t.updateLanguageSetting],options:t.availableLanguages,"option-label":e=>null==e?"-":t.$t("settings."+e),disable:t.availableLanguages.length<2,label:t.$t("common.language")},null,8,["modelValue","options","option-label","disable","label","onUpdate:modelValue"]),(0,a.Wm)(b,{size:"0pt"}),(0,a._)("h3",null,(0,l.zw)(t.$t("index.title")),1),(0,a._)("p",null,(0,l.zw)(t.$t("settings.dashboardText")),1),(0,a.Wm)(D),(0,a.Wm)(b,{size:"0pt"}),(0,a._)("h3",null,(0,l.zw)(t.$t("settings.exportImportTitle")),1),(0,a._)("p",null,(0,l.zw)(t.$t("settings.exportImportText")),1),(0,a.Wm)(f,{class:"btn",outline:"",color:"primary",label:t.$t("settings.export"),onClick:t.exportData},null,8,["label","onClick"]),(0,a.Wm)(f,{class:"btn",outline:"",color:"primary",label:t.$t("settings.import"),onClick:t.importData},null,8,["label","onClick"]),(0,a.Wm)(b,{size:"0pt"}),(0,a._)("h3",null,(0,l.zw)(t.$t("settings.oidsTitle")),1),(0,a._)("p",null,(0,l.zw)(t.$t("settings.oidsText")),1),(0,a._)("ul",n,[(0,a._)("li",null,[(0,a._)("b",null,(0,l.zw)(t.$t("settings.oidsMpi"))+":",1),i,r,(0,a.Uk)(" "+(0,l.zw)(t.oids.mpiId),1)]),(0,a._)("li",null,[(0,a._)("b",null,(0,l.zw)(t.$t("settings.oidsSpid"))+":",1),u,p,(0,a.Uk)(" "+(0,l.zw)(t.oids.eprSpid),1)]),(0,a._)("li",null,[(0,a._)("b",null,(0,l.zw)(t.$t("settings.oidsAhv"))+":",1),d,g,(0,a.Uk)(" "+(0,l.zw)(t.oids.ahv),1)]),(0,a._)("li",null,[(0,a._)("b",null,(0,l.zw)(t.$t("settings.oidsApp"))+":",1),m,c,(0,a.Uk)(" "+(0,l.zw)(t.oids.app),1)])])])])),_:1})])),_:1}),(0,a.Wm)(v,{modelValue:t.showExportDialog,"onUpdate:modelValue":e[2]||(e[2]=e=>t.showExportDialog=e),"no-backdrop-dismiss":"",class:"dialog"},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{exportMode:"",onClose:e[1]||(e[1]=e=>t.showExportDialog=!1)})])),_:1},8,["modelValue"]),(0,a.Wm)(v,{modelValue:t.showImportDialog,"onUpdate:modelValue":e[4]||(e[4]=e=>t.showImportDialog=e),"no-backdrop-dismiss":"",class:"dialog"},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{onClose:e[3]||(e[3]=e=>t.showImportDialog=!1)})])),_:1},8,["modelValue"])],64)}var w=o(7861);function $(t,e,o,s,n,i){const r=(0,a.up)("q-card-section"),u=(0,a.up)("q-input"),p=(0,a.up)("q-separator"),d=(0,a.up)("q-btn"),g=(0,a.up)("q-card-actions"),m=(0,a.up)("q-card");return(0,a.wg)(),(0,a.iD)(a.HY,null,[t.exportMode?((0,a.wg)(),(0,a.j4)(m,{key:0,class:"export-import-card"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{class:"card-title"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.$t("exportImport.exportTitle")),1)])),_:1}),(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a._)("p",null,(0,l.zw)(t.$t("exportImport.exportText")),1),(0,a.Wm)(u,{modelValue:t.jsonData,"onUpdate:modelValue":e[0]||(e[0]=e=>t.jsonData=e),filled:"",type:"textarea"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(p),(0,a.Wm)(g,{align:"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{flat:"",onClick:t.copy},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.$t("common.copy")),1)])),_:1},8,["onClick"]),(0,a.Wm)(d,{flat:"",onClick:e[1]||(e[1]=e=>t.$emit("close"))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.$t("common.close")),1)])),_:1})])),_:1})])),_:1})):(0,a.kq)("",!0),t.exportMode?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(m,{key:1,class:"export-import-card"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{class:"card-title"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.$t("exportImport.importTitle")),1)])),_:1}),(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a._)("p",null,(0,l.zw)(t.$t("exportImport.importText")),1),(0,a.Wm)(u,{modelValue:t.jsonData,"onUpdate:modelValue":e[2]||(e[2]=e=>t.jsonData=e),filled:"",type:"textarea"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(p),(0,a.Wm)(g,{align:"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{flat:"",onClick:t.paste},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.$t("settings.import")),1)])),_:1},8,["onClick"]),(0,a.Wm)(d,{flat:"",onClick:e[3]||(e[3]=e=>t.$emit("close"))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.$t("common.cancel")),1)])),_:1})])),_:1})])),_:1}))],64)}var _=o(5054);const b=(0,a.aZ)({name:"ExportImportCard",components:{},props:{exportMode:{type:Boolean,required:!1}},data(){return{jsonData:""}},emits:{close:()=>!0},beforeMount(){var t,e;if(this.exportMode){let o={user:null!==(e=null===(t=this.$store.getUser())||void 0===t?void 0:t.username)&&void 0!==e?e:"",diaryEntries:this.$store.getDiary(),suspectedAllergies:this.$store.getSuspectedAllergies(),settings:this.$store.getSettings()};this.jsonData=JSON.stringify(o)}},methods:{copy(){(0,_.Z)(this.jsonData).then((()=>{this.$emit("close")})).catch((()=>{console.log("error during the copy!")}))},paste(){let t=JSON.parse(this.jsonData);this.$store.setDiary(t.diaryEntries),this.$store.setSuspectedAllergies(t.suspectedAllergies),this.$store.setSettings(t.settings),this.$emit("close"),this.$router.go(0)}}});var D=o(1639),f=o(4458),k=o(3190),x=o(3119),v=o(926),S=o(1821),z=o(4455),W=o(9984),U=o.n(W);const C=(0,D.Z)(b,[["render",$],["__scopeId","data-v-37175a85"]]),Z=C;U()(b,"components",{QCard:f.Z,QCardSection:k.Z,QInput:x.Z,QSeparator:v.Z,QCardActions:S.Z,QBtn:z.Z});var V=o(3658);const y=(0,a.aZ)({name:"SettingsPage",data(){return{language:this.$store.getLanguage(),availableLanguages:new Array,oids:this.$store.getOids(),dashboardOptions:this.$store.getDashboardSettings(),showExportDialog:!1,showImportDialog:!1}},beforeMount(){w.AVAILABLE_LANGUAGES.forEach((t=>this.availableLanguages.push(t))),this.reset(void 0,!1)},methods:{save(t){t.preventDefault()},reset(t,e){t&&t.preventDefault();const o=e?this.$store.getDefaultSettings():this.$store.getSettings();this.language=o.language},updateLanguageSetting(t){this.$root&&(this.$root.$i18n.locale=t,this.$store.setLanguageSetting(t),this.$router.go(0))},exportData(){this.showExportDialog=!0},importData(){this.showImportDialog=!0}},watch:{},components:{ExportImportCard:Z,DashboardSettings:V.Z}});var I=o(6384),q=o(2074);const Q=(0,D.Z)(y,[["render",h],["__scopeId","data-v-186e18d2"]]),A=Q;U()(y,"components",{QCard:f.Z,QCardSection:k.Z,QSelect:I.Z,QSeparator:v.Z,QBtn:z.Z,QDialog:q.Z,QInput:x.Z})}}]);